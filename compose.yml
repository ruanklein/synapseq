services:
  build-linuxx86-64:
    build: .
    container_name: build-synapseq-x86-64
    platform: linux/amd64
    volumes:
      - .:/synapseq
    working_dir: /synapseq
    command:
      - /bin/sh
      - -c
      - |
        ./linux-build-synapseq.sh

  build-linux-arm64:
    build: .
    container_name: build-synapseq-arm64
    platform: linux/arm64
    volumes:
      - .:/synapseq
    working_dir: /synapseq
    command:
      - /bin/sh
      - -c
      - |
        ./linux-build-synapseq.sh

  build-windows-x86-64:
    build: .
    container_name: build-synapseq-windows-x86-64
    platform: linux/amd64
    volumes:
      - .:/synapseq
    working_dir: /synapseq
    command:
      - /bin/sh
      - -c
      - |
        ./windows-build-synapseq.sh
